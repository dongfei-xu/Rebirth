<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>sortList</title>
<style type="text/css">
*{margin:0px;padding:0px;font-size:12px;color:#000;}
select{
	width:200px;
	height:24px;
	}
</style>
</head>

<body>
<select id="sortList">
<option value="0">请选择分类</option>
<script type="text/javascript">
var data={};
data[0]="0,1,设计欣赏,0";//父ID,ID,分类名称,层级数  清除无用对象的引用
data[1]="1,2,视觉设计,1";
data[2]="1,3,交互设计,1";
data[3]="1,4,平面设计,1";
data[4]="1,5,三维设计,1";
data[5]="0,6,素材下载,0";
data[6]="6,7,设计素材,1";
data[7]="6,8,前端素材,1";
data[8]="6,9,插件特效,1";
data[9]="0,10,学习资料,0";
data[10]="10,11,前端开发,1";
data[11]="10,12,设计软件,1";
data[12]="10,13,婚纱摄影,1";
data[13]="10,14,文库档案,1";
data[14]="10,15,行业知识,1";
data[15]="3,16,文档资料,2";
data[16]="16,17,其他东西,3";
//*****************
var rdata={};
var index=0;
var buildNextSort=function(tid){
	for(var key in data){
		var temps=data[key].split(",");
		console.log(temps);
		var z=temps[1];
		if(temps[0]==tid){
			index+=1;
			var blank="";
			for(var k=0;k<parseInt(temps[3]);k++){
				for(var s=0;s<7;s++){
					blank+="&nbsp;";
				}
				if(k==parseInt(temps[3])-1){
					blank+="&brvbar;&rArr;";
				}
			}
			rdata[index]=temps[0]+","+temps[1]+","+blank+temps[2];
			buildNextSort(z);
		}
	}
}
for(var key in data){
	var tmp=data[key].split(",");
	if(tmp[0]==0){
		rdata[index]=tmp[0]+","+tmp[1]+","+tmp[2];
		buildNextSort(tmp[1]);
		index+=1;
	}
}
for(var key in rdata){
	var tp=rdata[key].split(",");
	document.write('<option value='+tp[1]+'>'+tp[2]+'</option>');
}
</script>
</select>
</body>
</html>
